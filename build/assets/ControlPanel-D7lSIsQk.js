import{R as X,aA as Rt,H as F,aH as Ce,aD as _t,a6 as Ct,_ as ne,aC as ra,K as Lt,ac as ht,ai as oa,aM as sa,J as la,aB as ia,ae as ca,r as l,af as _e,C as nt,a1 as gt,E as G,aN as da,D as rt,aO as ma,aP as ua,G as Tt,aL as ha,aQ as ga,a5 as at,aR as pa,ah as mt,aS as pt,aF as Le,aT as ft,aU as fa,aV as xa,I as ge,aG as ba,aW as zt,aX as va,aY as ya,aZ as $t,O as Na,a_ as Ca,j as n,ar as We,am as Ae,a$ as Mt,c as Ne,b as Q,b0 as qe,L as Dt,aq as he,ap as Ye,ao as Re,b1 as $a,an as Sa,b2 as Be,e as Ie,g as ja,a9 as St,au as Ue,d as xe,b3 as Qe,q as wa,z as Ia}from"./index-DirEgLJ3.js";import{s as R}from"./index-DlVZh09l.js";import{b as Aa,T as Bt,a as Ea,R as Oa,C as Pa}from"./MailOutlined-CHQWNVdD.js";var Ut=X.forwardRef(function(e,a){var o=e.prefixCls,r=e.forceRender,s=e.className,u=e.style,i=e.children,b=e.isActive,v=e.role,y=e.classNames,p=e.styles,m=X.useState(b||r),x=Rt(m,2),c=x[0],f=x[1];return X.useEffect(function(){(r||b)&&f(!0)},[r,b]),c?X.createElement("div",{ref:a,className:F("".concat(o,"-content"),Ce(Ce({},"".concat(o,"-content-active"),b),"".concat(o,"-content-inactive"),!b),s),style:u,role:v},X.createElement("div",{className:F("".concat(o,"-content-box"),y==null?void 0:y.body),style:p==null?void 0:p.body},i)):null});Ut.displayName="PanelContent";var ka=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Ht=X.forwardRef(function(e,a){var o=e.showArrow,r=o===void 0?!0:o,s=e.headerClass,u=e.isActive,i=e.onItemClick,b=e.forceRender,v=e.className,y=e.classNames,p=y===void 0?{}:y,m=e.styles,x=m===void 0?{}:m,c=e.prefixCls,f=e.collapsible,$=e.accordion,N=e.panelKey,w=e.extra,h=e.header,E=e.expandIcon,I=e.openMotion,T=e.destroyInactivePanel,_=e.children,S=_t(e,ka),k=f==="disabled",M=w!=null&&typeof w!="boolean",U=Ce(Ce(Ce({onClick:function(){i==null||i(N)},onKeyDown:function(D){(D.key==="Enter"||D.keyCode===Ct.ENTER||D.which===Ct.ENTER)&&(i==null||i(N))},role:$?"tab":"button"},"aria-expanded",u),"aria-disabled",k),"tabIndex",k?-1:0),q=typeof E=="function"?E(e):X.createElement("i",{className:"arrow"}),C=q&&X.createElement("div",ne({className:"".concat(c,"-expand-icon")},["header","icon"].includes(f)?U:{}),q),A=F("".concat(c,"-item"),Ce(Ce({},"".concat(c,"-item-active"),u),"".concat(c,"-item-disabled"),k),v),H=F(s,"".concat(c,"-header"),Ce({},"".concat(c,"-collapsible-").concat(f),!!f),p.header),z=ra({className:H,style:x.header},["header","icon"].includes(f)?{}:U);return X.createElement("div",ne({},S,{ref:a,className:A}),X.createElement("div",z,r&&C,X.createElement("span",ne({className:"".concat(c,"-header-text")},f==="header"?U:{}),h),M&&X.createElement("div",{className:"".concat(c,"-extra")},w)),X.createElement(Lt,ne({visible:u,leavedClassName:"".concat(c,"-content-hidden")},I,{forceRender:b,removeOnLeave:T}),function(ee,D){var V=ee.className,ie=ee.style;return X.createElement(Ut,{ref:D,prefixCls:c,className:V,classNames:p,style:ie,styles:x,isActive:u,forceRender:b,role:$?"tabpanel":void 0},_)}))}),Ra=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],_a=function(a,o){var r=o.prefixCls,s=o.accordion,u=o.collapsible,i=o.destroyInactivePanel,b=o.onItemClick,v=o.activeKey,y=o.openMotion,p=o.expandIcon;return a.map(function(m,x){var c=m.children,f=m.label,$=m.key,N=m.collapsible,w=m.onItemClick,h=m.destroyInactivePanel,E=_t(m,Ra),I=String($??x),T=N??u,_=h??i,S=function(U){T!=="disabled"&&(b(U),w==null||w(U))},k=!1;return s?k=v[0]===I:k=v.indexOf(I)>-1,X.createElement(Ht,ne({},E,{prefixCls:r,key:I,panelKey:I,isActive:k,accordion:s,openMotion:y,expandIcon:p,header:f,collapsible:T,onItemClick:S,destroyInactivePanel:_}),c)})},La=function(a,o,r){if(!a)return null;var s=r.prefixCls,u=r.accordion,i=r.collapsible,b=r.destroyInactivePanel,v=r.onItemClick,y=r.activeKey,p=r.openMotion,m=r.expandIcon,x=a.key||String(o),c=a.props,f=c.header,$=c.headerClass,N=c.destroyInactivePanel,w=c.collapsible,h=c.onItemClick,E=!1;u?E=y[0]===x:E=y.indexOf(x)>-1;var I=w??i,T=function(k){I!=="disabled"&&(v(k),h==null||h(k))},_={key:x,panelKey:x,header:f,headerClass:$,isActive:E,prefixCls:s,destroyInactivePanel:N??b,openMotion:p,accordion:u,children:a.props.children,onItemClick:T,expandIcon:m,collapsible:I};return typeof a.type=="string"?a:(Object.keys(_).forEach(function(S){typeof _[S]>"u"&&delete _[S]}),X.cloneElement(a,_))};function Ta(e,a,o){return Array.isArray(e)?_a(e,o):ht(a).map(function(r,s){return La(r,s,o)})}function za(e){var a=e;if(!Array.isArray(a)){var o=ia(a);a=o==="number"||o==="string"?[a]:[]}return a.map(function(r){return String(r)})}var Ma=X.forwardRef(function(e,a){var o=e.prefixCls,r=o===void 0?"rc-collapse":o,s=e.destroyInactivePanel,u=s===void 0?!1:s,i=e.style,b=e.accordion,v=e.className,y=e.children,p=e.collapsible,m=e.openMotion,x=e.expandIcon,c=e.activeKey,f=e.defaultActiveKey,$=e.onChange,N=e.items,w=F(r,v),h=oa([],{value:c,onChange:function(M){return $==null?void 0:$(M)},defaultValue:f,postState:za}),E=Rt(h,2),I=E[0],T=E[1],_=function(M){return T(function(){if(b)return I[0]===M?[]:[M];var U=I.indexOf(M),q=U>-1;return q?I.filter(function(C){return C!==M}):[].concat(ca(I),[M])})};sa(!y,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var S=Ta(N,y,{prefixCls:r,accordion:b,openMotion:m,expandIcon:x,collapsible:p,destroyInactivePanel:u,onItemClick:_,activeKey:I});return X.createElement("div",ne({ref:a,className:w,style:i,role:b?"tablist":void 0},la(e,{aria:!0,data:!0})),S)});const xt=Object.assign(Ma,{Panel:Ht});xt.Panel;const Da=l.forwardRef((e,a)=>{const{getPrefixCls:o}=l.useContext(_e),{prefixCls:r,className:s,showArrow:u=!0}=e,i=o("collapse",r),b=F({[`${i}-no-arrow`]:!u},s);return l.createElement(xt.Panel,Object.assign({ref:a},e,{prefixCls:i,className:b}))}),Ba=e=>{const{componentCls:a,contentBg:o,padding:r,headerBg:s,headerPadding:u,collapseHeaderPaddingSM:i,collapseHeaderPaddingLG:b,collapsePanelBorderRadius:v,lineWidth:y,lineType:p,colorBorder:m,colorText:x,colorTextHeading:c,colorTextDisabled:f,fontSizeLG:$,lineHeight:N,lineHeightLG:w,marginSM:h,paddingSM:E,paddingLG:I,paddingXS:T,motionDurationSlow:_,fontSizeIcon:S,contentPadding:k,fontHeight:M,fontHeightLG:U}=e,q=`${G(y)} ${p} ${m}`;return{[a]:Object.assign(Object.assign({},rt(e)),{backgroundColor:s,border:q,borderRadius:v,"&-rtl":{direction:"rtl"},[`& > ${a}-item`]:{borderBottom:q,"&:first-child":{[`
            &,
            & > ${a}-header`]:{borderRadius:`${G(v)} ${G(v)} 0 0`}},"&:last-child":{[`
            &,
            & > ${a}-header`]:{borderRadius:`0 0 ${G(v)} ${G(v)}`}},[`> ${a}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:u,color:c,lineHeight:N,cursor:"pointer",transition:`all ${_}, visibility 0s`},ma(e)),{[`> ${a}-header-text`]:{flex:"auto"},[`${a}-expand-icon`]:{height:M,display:"flex",alignItems:"center",paddingInlineEnd:h},[`${a}-arrow`]:Object.assign(Object.assign({},ua()),{fontSize:S,transition:`transform ${_}`,svg:{transition:`transform ${_}`}}),[`${a}-header-text`]:{marginInlineEnd:"auto"}}),[`${a}-collapsible-header`]:{cursor:"default",[`${a}-header-text`]:{flex:"none",cursor:"pointer"}},[`${a}-collapsible-icon`]:{cursor:"unset",[`${a}-expand-icon`]:{cursor:"pointer"}}},[`${a}-content`]:{color:x,backgroundColor:o,borderTop:q,[`& > ${a}-content-box`]:{padding:k},"&-hidden":{display:"none"}},"&-small":{[`> ${a}-item`]:{[`> ${a}-header`]:{padding:i,paddingInlineStart:T,[`> ${a}-expand-icon`]:{marginInlineStart:e.calc(E).sub(T).equal()}},[`> ${a}-content > ${a}-content-box`]:{padding:E}}},"&-large":{[`> ${a}-item`]:{fontSize:$,lineHeight:w,[`> ${a}-header`]:{padding:b,paddingInlineStart:r,[`> ${a}-expand-icon`]:{height:U,marginInlineStart:e.calc(I).sub(r).equal()}},[`> ${a}-content > ${a}-content-box`]:{padding:I}}},[`${a}-item:last-child`]:{borderBottom:0,[`> ${a}-content`]:{borderRadius:`0 0 ${G(v)} ${G(v)}`}},[`& ${a}-item-disabled > ${a}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:f,cursor:"not-allowed"}},[`&${a}-icon-position-end`]:{[`& > ${a}-item`]:{[`> ${a}-header`]:{[`${a}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:h}}}}})}},Ua=e=>{const{componentCls:a}=e,o=`> ${a}-item > ${a}-header ${a}-arrow`;return{[`${a}-rtl`]:{[o]:{transform:"rotate(180deg)"}}}},Ha=e=>{const{componentCls:a,headerBg:o,paddingXXS:r,colorBorder:s}=e;return{[`${a}-borderless`]:{backgroundColor:o,border:0,[`> ${a}-item`]:{borderBottom:`1px solid ${s}`},[`
        > ${a}-item:last-child,
        > ${a}-item:last-child ${a}-header
      `]:{borderRadius:0},[`> ${a}-item:last-child`]:{borderBottom:0},[`> ${a}-item > ${a}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${a}-item > ${a}-content > ${a}-content-box`]:{paddingTop:r}}}},Va=e=>{const{componentCls:a,paddingSM:o}=e;return{[`${a}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${a}-item`]:{borderBottom:0,[`> ${a}-content`]:{backgroundColor:"transparent",border:0,[`> ${a}-content-box`]:{paddingBlock:o}}}}}},Fa=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer}),qa=nt("Collapse",e=>{const a=gt(e,{collapseHeaderPaddingSM:`${G(e.paddingXS)} ${G(e.paddingSM)}`,collapseHeaderPaddingLG:`${G(e.padding)} ${G(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[Ba(a),Ha(a),Va(a),Ua(a),da(a)]},Fa),Wa=l.forwardRef((e,a)=>{const{getPrefixCls:o,direction:r,expandIcon:s,className:u,style:i}=Tt("collapse"),{prefixCls:b,className:v,rootClassName:y,style:p,bordered:m=!0,ghost:x,size:c,expandIconPosition:f="start",children:$,expandIcon:N}=e,w=ha(A=>{var H;return(H=c??A)!==null&&H!==void 0?H:"middle"}),h=o("collapse",b),E=o(),[I,T,_]=qa(h),S=l.useMemo(()=>f==="left"?"start":f==="right"?"end":f,[f]),k=N??s,M=l.useCallback(function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const H=typeof k=="function"?k(A):l.createElement(ga,{rotate:A.isActive?r==="rtl"?-90:90:void 0,"aria-label":A.isActive?"expanded":"collapsed"});return at(H,()=>{var z;return{className:F((z=H==null?void 0:H.props)===null||z===void 0?void 0:z.className,`${h}-arrow`)}})},[k,h]),U=F(`${h}-icon-position-${S}`,{[`${h}-borderless`]:!m,[`${h}-rtl`]:r==="rtl",[`${h}-ghost`]:!!x,[`${h}-${w}`]:w!=="middle"},u,v,y,T,_),q=Object.assign(Object.assign({},pa(E)),{motionAppear:!1,leavedClassName:`${h}-content-hidden`}),C=l.useMemo(()=>$?ht($).map((A,H)=>{var z,ee;const D=A.props;if(D!=null&&D.disabled){const V=(z=A.key)!==null&&z!==void 0?z:String(H),ie=Object.assign(Object.assign({},mt(A.props,["disabled"])),{key:V,collapsible:(ee=D.collapsible)!==null&&ee!==void 0?ee:"disabled"});return at(A,ie)}return A}):null,[$]);return I(l.createElement(xt,Object.assign({ref:a,openMotion:q},mt(e,["rootClassName"]),{expandIcon:M,prefixCls:h,className:U,style:Object.assign(Object.assign({},i),p)}),C))}),Vt=Object.assign(Wa,{Panel:Da}),Ga=new Le("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Ka=new Le("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Za=new Le("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),Xa=new Le("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Ya=new Le("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Qa=new Le("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),Ja=e=>{const{componentCls:a,iconCls:o,antCls:r,badgeShadowSize:s,textFontSize:u,textFontSizeSM:i,statusSize:b,dotSize:v,textFontWeight:y,indicatorHeight:p,indicatorHeightSM:m,marginXS:x,calc:c}=e,f=`${r}-scroll-number`,$=pt(e,(N,w)=>{let{darkColor:h}=w;return{[`&${a} ${a}-color-${N}`]:{background:h,[`&:not(${a}-count)`]:{color:h},"a:hover &":{background:h}}}});return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},rt(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${a}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:p,height:p,color:e.badgeTextColor,fontWeight:y,fontSize:u,lineHeight:G(p),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:c(p).div(2).equal(),boxShadow:`0 0 0 ${G(s)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${a}-count-sm`]:{minWidth:m,height:m,fontSize:i,lineHeight:G(m),borderRadius:c(m).div(2).equal()},[`${a}-multiple-words`]:{padding:`0 ${G(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${a}-dot`]:{zIndex:e.indicatorZIndex,width:v,minWidth:v,height:v,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${G(s)} ${e.badgeShadowColor}`},[`${a}-count, ${a}-dot, ${f}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${o}-spin`]:{animationName:Qa,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${a}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${a}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:b,height:b,verticalAlign:"middle",borderRadius:"50%"},[`${a}-status-success`]:{backgroundColor:e.colorSuccess},[`${a}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:s,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Ga,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${a}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${a}-status-error`]:{backgroundColor:e.colorError},[`${a}-status-warning`]:{backgroundColor:e.colorWarning},[`${a}-status-text`]:{marginInlineStart:x,color:e.colorText,fontSize:e.fontSize}}}),$),{[`${a}-zoom-appear, ${a}-zoom-enter`]:{animationName:Ka,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${a}-zoom-leave`]:{animationName:Za,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${a}-not-a-wrapper`]:{[`${a}-zoom-appear, ${a}-zoom-enter`]:{animationName:Xa,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${a}-zoom-leave`]:{animationName:Ya,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${a}-status)`]:{verticalAlign:"middle"},[`${f}-custom-component, ${a}-count`]:{transform:"none"},[`${f}-custom-component, ${f}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[f]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${f}-only`]:{position:"relative",display:"inline-block",height:p,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${f}-only-unit`]:{height:p,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${f}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${a}-count, ${a}-dot, ${f}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Ft=e=>{const{fontHeight:a,lineWidth:o,marginXS:r,colorBorderBg:s}=e,u=a,i=o,b=e.colorTextLightSolid,v=e.colorError,y=e.colorErrorHover;return gt(e,{badgeFontHeight:u,badgeShadowSize:i,badgeTextColor:b,badgeColor:v,badgeColorHover:y,badgeShadowColor:s,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},qt=e=>{const{fontSize:a,lineHeight:o,fontSizeSM:r,lineWidth:s}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(a*o)-2*s,indicatorHeightSM:a,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},en=nt("Badge",e=>{const a=Ft(e);return Ja(a)},qt),tn=e=>{const{antCls:a,badgeFontHeight:o,marginXS:r,badgeRibbonOffset:s,calc:u}=e,i=`${a}-ribbon`,b=`${a}-ribbon-wrapper`,v=pt(e,(y,p)=>{let{darkColor:m}=p;return{[`&${i}-color-${y}`]:{background:m,color:m}}});return{[b]:{position:"relative"},[i]:Object.assign(Object.assign(Object.assign(Object.assign({},rt(e)),{position:"absolute",top:r,padding:`0 ${G(e.paddingXS)}`,color:e.colorPrimary,lineHeight:G(o),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${i}-text`]:{color:e.badgeTextColor},[`${i}-corner`]:{position:"absolute",top:"100%",width:s,height:s,color:"currentcolor",border:`${G(u(s).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),v),{[`&${i}-placement-end`]:{insetInlineEnd:u(s).mul(-1).equal(),borderEndEndRadius:0,[`${i}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${i}-placement-start`]:{insetInlineStart:u(s).mul(-1).equal(),borderEndStartRadius:0,[`${i}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},an=nt(["Badge","Ribbon"],e=>{const a=Ft(e);return tn(a)},qt),nn=e=>{const{className:a,prefixCls:o,style:r,color:s,children:u,text:i,placement:b="end",rootClassName:v}=e,{getPrefixCls:y,direction:p}=l.useContext(_e),m=y("ribbon",o),x=`${m}-wrapper`,[c,f,$]=an(m,x),N=ft(s,!1),w=F(m,`${m}-placement-${b}`,{[`${m}-rtl`]:p==="rtl",[`${m}-color-${s}`]:N},a),h={},E={};return s&&!N&&(h.background=s,E.color=s),c(l.createElement("div",{className:F(x,v,f,$)},u,l.createElement("div",{className:F(w,f),style:Object.assign(Object.assign({},h),r)},l.createElement("span",{className:`${m}-text`},i),l.createElement("div",{className:`${m}-corner`,style:E}))))},jt=e=>{const{prefixCls:a,value:o,current:r,offset:s=0}=e;let u;return s&&(u={position:"absolute",top:`${s}00%`,left:0}),l.createElement("span",{style:u,className:F(`${a}-only-unit`,{current:r})},o)};function rn(e,a,o){let r=e,s=0;for(;(r+10)%10!==a;)r+=o,s+=o;return s}const on=e=>{const{prefixCls:a,count:o,value:r}=e,s=Number(r),u=Math.abs(o),[i,b]=l.useState(s),[v,y]=l.useState(u),p=()=>{b(s),y(u)};l.useEffect(()=>{const c=setTimeout(p,1e3);return()=>clearTimeout(c)},[s]);let m,x;if(i===s||Number.isNaN(s)||Number.isNaN(i))m=[l.createElement(jt,Object.assign({},e,{key:s,current:!0}))],x={transition:"none"};else{m=[];const c=s+10,f=[];for(let h=s;h<=c;h+=1)f.push(h);const $=v<u?1:-1,N=f.findIndex(h=>h%10===i);m=($<0?f.slice(0,N+1):f.slice(N)).map((h,E)=>{const I=h%10;return l.createElement(jt,Object.assign({},e,{key:h,value:I,offset:$<0?E-N:E,current:E===N}))}),x={transform:`translateY(${-rn(i,s,$)}00%)`}}return l.createElement("span",{className:`${a}-only`,style:x,onTransitionEnd:p},m)};var sn=function(e,a){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const ln=l.forwardRef((e,a)=>{const{prefixCls:o,count:r,className:s,motionClassName:u,style:i,title:b,show:v,component:y="sup",children:p}=e,m=sn(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:x}=l.useContext(_e),c=x("scroll-number",o),f=Object.assign(Object.assign({},m),{"data-show":v,style:i,className:F(c,s,u),title:b});let $=r;if(r&&Number(r)%1===0){const N=String(r).split("");$=l.createElement("bdi",null,N.map((w,h)=>l.createElement(on,{prefixCls:c,count:Number(r),value:w,key:N.length-h})))}return i!=null&&i.borderColor&&(f.style=Object.assign(Object.assign({},i),{boxShadow:`0 0 0 1px ${i.borderColor} inset`})),p?at(p,N=>({className:F(`${c}-custom-component`,N==null?void 0:N.className,u)})):l.createElement(y,Object.assign({},f,{ref:a}),$)});var cn=function(e,a){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const dn=l.forwardRef((e,a)=>{var o,r,s,u,i;const{prefixCls:b,scrollNumberPrefixCls:v,children:y,status:p,text:m,color:x,count:c=null,overflowCount:f=99,dot:$=!1,size:N="default",title:w,offset:h,style:E,className:I,rootClassName:T,classNames:_,styles:S,showZero:k=!1}=e,M=cn(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:U,direction:q,badge:C}=l.useContext(_e),A=U("badge",b),[H,z,ee]=en(A),D=c>f?`${f}+`:c,V=D==="0"||D===0,ie=c===null||V&&!k,Y=(p!=null||x!=null)&&ie,te=$&&!V,ae=te?"":D,ce=l.useMemo(()=>(ae==null||ae===""||V&&!k)&&!te,[ae,V,k,te]),pe=l.useRef(c);ce||(pe.current=c);const re=pe.current,be=l.useRef(ae);ce||(be.current=ae);const de=be.current,Ee=l.useRef(te);ce||(Ee.current=te);const ve=l.useMemo(()=>{if(!h)return Object.assign(Object.assign({},C==null?void 0:C.style),E);const K={marginTop:h[1]};return q==="rtl"?K.left=parseInt(h[0],10):K.right=-parseInt(h[0],10),Object.assign(Object.assign(Object.assign({},K),C==null?void 0:C.style),E)},[q,h,E,C==null?void 0:C.style]),Te=w??(typeof re=="string"||typeof re=="number"?re:void 0),Ge=ce||!m?null:l.createElement("span",{className:`${A}-status-text`},m),$e=!re||typeof re!="object"?void 0:at(re,K=>({style:Object.assign(Object.assign({},ve),K.style)})),Oe=ft(x,!1),Se=F(_==null?void 0:_.indicator,(o=C==null?void 0:C.classNames)===null||o===void 0?void 0:o.indicator,{[`${A}-status-dot`]:Y,[`${A}-status-${p}`]:!!p,[`${A}-color-${x}`]:Oe}),je={};x&&!Oe&&(je.color=x,je.background=x);const Pe=F(A,{[`${A}-status`]:Y,[`${A}-not-a-wrapper`]:!y,[`${A}-rtl`]:q==="rtl"},I,T,C==null?void 0:C.className,(r=C==null?void 0:C.classNames)===null||r===void 0?void 0:r.root,_==null?void 0:_.root,z,ee);if(!y&&Y){const K=ve.color;return H(l.createElement("span",Object.assign({},M,{className:Pe,style:Object.assign(Object.assign(Object.assign({},S==null?void 0:S.root),(s=C==null?void 0:C.styles)===null||s===void 0?void 0:s.root),ve)}),l.createElement("span",{className:Se,style:Object.assign(Object.assign(Object.assign({},S==null?void 0:S.indicator),(u=C==null?void 0:C.styles)===null||u===void 0?void 0:u.indicator),je)}),m&&l.createElement("span",{style:{color:K},className:`${A}-status-text`},m)))}return H(l.createElement("span",Object.assign({ref:a},M,{className:Pe,style:Object.assign(Object.assign({},(i=C==null?void 0:C.styles)===null||i===void 0?void 0:i.root),S==null?void 0:S.root)}),y,l.createElement(Lt,{visible:!ce,motionName:`${A}-zoom`,motionAppear:!1,motionDeadline:1e3},K=>{let{className:ot}=K;var ze,Me;const st=U("scroll-number",v),me=Ee.current,lt=F(_==null?void 0:_.indicator,(ze=C==null?void 0:C.classNames)===null||ze===void 0?void 0:ze.indicator,{[`${A}-dot`]:me,[`${A}-count`]:!me,[`${A}-count-sm`]:N==="small",[`${A}-multiple-words`]:!me&&de&&de.toString().length>1,[`${A}-status-${p}`]:!!p,[`${A}-color-${x}`]:Oe});let ke=Object.assign(Object.assign(Object.assign({},S==null?void 0:S.indicator),(Me=C==null?void 0:C.styles)===null||Me===void 0?void 0:Me.indicator),ve);return x&&!Oe&&(ke=ke||{},ke.background=x),l.createElement(ln,{prefixCls:st,show:!ce,motionClassName:ot,className:lt,count:de,title:Te,style:ke,key:"scrollNumber"},$e)}),Ge))}),tt=dn;tt.Ribbon=nn;function wt(e){return["small","middle","large"].includes(e)}function It(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const Wt=X.createContext({latestIndex:0}),mn=Wt.Provider,un=e=>{let{className:a,index:o,children:r,split:s,style:u}=e;const{latestIndex:i}=l.useContext(Wt);return r==null?null:l.createElement(l.Fragment,null,l.createElement("div",{className:a,style:u},r),o<i&&s&&l.createElement("span",{className:`${a}-split`},s))};var hn=function(e,a){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const gn=l.forwardRef((e,a)=>{var o;const{getPrefixCls:r,direction:s,size:u,className:i,style:b,classNames:v,styles:y}=Tt("space"),{size:p=u??"small",align:m,className:x,rootClassName:c,children:f,direction:$="horizontal",prefixCls:N,split:w,style:h,wrap:E=!1,classNames:I,styles:T}=e,_=hn(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[S,k]=Array.isArray(p)?p:[p,p],M=wt(k),U=wt(S),q=It(k),C=It(S),A=ht(f,{keepEmpty:!0}),H=m===void 0&&$==="horizontal"?"center":m,z=r("space",N),[ee,D,V]=fa(z),ie=F(z,i,D,`${z}-${$}`,{[`${z}-rtl`]:s==="rtl",[`${z}-align-${H}`]:H,[`${z}-gap-row-${k}`]:M,[`${z}-gap-col-${S}`]:U},x,c,V),Y=F(`${z}-item`,(o=I==null?void 0:I.item)!==null&&o!==void 0?o:v.item);let te=0;const ae=A.map((re,be)=>{var de;re!=null&&(te=be);const Ee=(re==null?void 0:re.key)||`${Y}-${be}`;return l.createElement(un,{className:Y,key:Ee,index:be,split:w,style:(de=T==null?void 0:T.item)!==null&&de!==void 0?de:y.item},re)}),ce=l.useMemo(()=>({latestIndex:te}),[te]);if(A.length===0)return null;const pe={};return E&&(pe.flexWrap="wrap"),!U&&C&&(pe.columnGap=S),!M&&q&&(pe.rowGap=k),ee(l.createElement("div",Object.assign({ref:a,className:ie,style:Object.assign(Object.assign(Object.assign({},pe),b),h)},_),l.createElement(mn,{value:ce},ae)))}),ut=gn;ut.Compact=xa;var pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},fn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:pn}))},xn=l.forwardRef(fn),bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},vn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:bn}))},At=l.forwardRef(vn),yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Nn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:yn}))},Et=l.forwardRef(Nn),Cn={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},$n=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:Cn}))},Ot=l.forwardRef($n),Sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},jn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:Sn}))},wn=l.forwardRef(jn),In={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},An=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:In}))},ct=l.forwardRef(An),En={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},On=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:En}))},Pn=l.forwardRef(On),kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},Rn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:kn}))},_n=l.forwardRef(Rn),Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},Tn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:Ln}))},Pt=l.forwardRef(Tn),zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},Mn=function(a,o){return l.createElement(ge,ne({},a,{ref:o,icon:zn}))},Dn=l.forwardRef(Mn);const Bn=e=>{const{paddingXXS:a,lineWidth:o,tagPaddingHorizontal:r,componentCls:s,calc:u}=e,i=u(r).sub(o).equal(),b=u(a).sub(o).equal();return{[s]:Object.assign(Object.assign({},rt(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${G(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${s}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${s}-close-icon`]:{marginInlineStart:b,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${s}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${s}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${s}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},bt=e=>{const{lineWidth:a,fontSizeIcon:o,calc:r}=e,s=e.fontSizeSM;return gt(e,{tagFontSize:s,tagLineHeight:G(r(e.lineHeightSM).mul(s).equal()),tagIconSize:r(o).sub(r(a).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},vt=e=>({defaultBg:new ba(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),Gt=nt("Tag",e=>{const a=bt(e);return Bn(a)},vt);var Un=function(e,a){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const Hn=l.forwardRef((e,a)=>{const{prefixCls:o,style:r,className:s,checked:u,onChange:i,onClick:b}=e,v=Un(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:y,tag:p}=l.useContext(_e),m=w=>{i==null||i(!u),b==null||b(w)},x=y("tag",o),[c,f,$]=Gt(x),N=F(x,`${x}-checkable`,{[`${x}-checkable-checked`]:u},p==null?void 0:p.className,s,f,$);return c(l.createElement("span",Object.assign({},v,{ref:a,style:Object.assign(Object.assign({},r),p==null?void 0:p.style),className:N,onClick:m})))}),Vn=e=>pt(e,(a,o)=>{let{textColor:r,lightBorderColor:s,lightColor:u,darkColor:i}=o;return{[`${e.componentCls}${e.componentCls}-${a}`]:{color:r,background:u,borderColor:s,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Fn=zt(["Tag","preset"],e=>{const a=bt(e);return Vn(a)},vt);function qn(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Je=(e,a,o)=>{const r=qn(o);return{[`${e.componentCls}${e.componentCls}-${a}`]:{color:e[`color${o}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},Wn=zt(["Tag","status"],e=>{const a=bt(e);return[Je(a,"success","Success"),Je(a,"processing","Info"),Je(a,"error","Error"),Je(a,"warning","Warning")]},vt);var Gn=function(e,a){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const Kn=l.forwardRef((e,a)=>{const{prefixCls:o,className:r,rootClassName:s,style:u,children:i,icon:b,color:v,onClose:y,bordered:p=!0,visible:m}=e,x=Gn(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:c,direction:f,tag:$}=l.useContext(_e),[N,w]=l.useState(!0),h=mt(x,["closeIcon","closable"]);l.useEffect(()=>{m!==void 0&&w(m)},[m]);const E=ft(v),I=va(v),T=E||I,_=Object.assign(Object.assign({backgroundColor:v&&!T?v:void 0},$==null?void 0:$.style),u),S=c("tag",o),[k,M,U]=Gt(S),q=F(S,$==null?void 0:$.className,{[`${S}-${v}`]:T,[`${S}-has-color`]:v&&!T,[`${S}-hidden`]:!N,[`${S}-rtl`]:f==="rtl",[`${S}-borderless`]:!p},r,s,M,U),C=V=>{V.stopPropagation(),y==null||y(V),!V.defaultPrevented&&w(!1)},[,A]=ya($t(e),$t($),{closable:!1,closeIconRender:V=>{const ie=l.createElement("span",{className:`${S}-close-icon`,onClick:C},V);return Na(V,ie,Y=>({onClick:te=>{var ae;(ae=Y==null?void 0:Y.onClick)===null||ae===void 0||ae.call(Y,te),C(te)},className:F(Y==null?void 0:Y.className,`${S}-close-icon`)}))}}),H=typeof x.onClick=="function"||i&&i.type==="a",z=b||null,ee=z?l.createElement(l.Fragment,null,z,i&&l.createElement("span",null,i)):i,D=l.createElement("span",Object.assign({},h,{ref:a,className:q,style:_}),ee,A,E&&l.createElement(Fn,{key:"preset",prefixCls:S}),I&&l.createElement(Wn,{key:"status",prefixCls:S}));return k(H?l.createElement(Ca,{component:"Tag"},D):D)}),Kt=Kn;Kt.CheckableTag=Hn;var J=[];for(var dt=0;dt<256;++dt)J.push((dt+256).toString(16).slice(1));function Zn(e,a=0){return(J[e[a+0]]+J[e[a+1]]+J[e[a+2]]+J[e[a+3]]+"-"+J[e[a+4]]+J[e[a+5]]+"-"+J[e[a+6]]+J[e[a+7]]+"-"+J[e[a+8]]+J[e[a+9]]+"-"+J[e[a+10]]+J[e[a+11]]+J[e[a+12]]+J[e[a+13]]+J[e[a+14]]+J[e[a+15]]).toLowerCase()}var et,Xn=new Uint8Array(16);function Yn(){if(!et&&(et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!et))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return et(Xn)}var Qn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const kt={randomUUID:Qn};function Jn(e,a,o){if(kt.randomUUID&&!e)return kt.randomUUID();e=e||{};var r=e.random||(e.rng||Yn)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Zn(r)}function er({recipientId:e,children:a}){const[o,r]=l.useState(!1),[s,u]=l.useState(""),[i,b]=l.useState(""),[v,y]=l.useState(!1),p=async()=>{if(!s||!i)return R.warning("Please enter both a title and a body.");y(!0);try{await Mt(Ne(Q,"notifications"),{recipientId:e,title:s,message:i,type:"manual",timestamp:qe()}),R.success("Notification sent successfully"),r(!1),u(""),b("")}catch(m){console.error("Error sending notification:",m),R.error("Failed to send notification")}finally{y(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{display:"inline-block",cursor:"pointer"},onClick:()=>r(!0),children:a}),n.jsxs(We,{title:"Send Notification",visible:o,onCancel:()=>r(!1),onOk:p,okText:"Send",cancelText:"Cancel",confirmLoading:v,children:[n.jsx(Ae,{placeholder:"Notification Title",value:s,onChange:m=>u(m.target.value),className:"mb-2"}),n.jsx(Ae.TextArea,{placeholder:"Notification Body",value:i,onChange:m=>b(m.target.value),rows:4})]})]})}const{TabPane:He}=Bt,{Option:Ve}=Re,{confirm:Fe}=We,{Header:tr,Content:ar}=Dt,{Panel:nr}=Vt,lr=()=>{const[e,a]=l.useState([]),[o,r]=l.useState([]),[s,u]=l.useState([]),[i,b]=l.useState([]),[v,y]=l.useState([]),[p,m]=l.useState(!0),[x,c]=l.useState(!1),[f,$]=l.useState("All"),[N,w]=l.useState(""),[h,E]=l.useState("admin"),[I,T]=l.useState(""),[_,S]=l.useState("1"),[k,M]=l.useState(""),[U,q]=l.useState(!1),[C,A]=l.useState(""),[H,z]=l.useState(!1),[ee,D]=l.useState(!1),[V,ie]=l.useState(null),[Y,te]=l.useState(""),[ae,ce]=l.useState(""),[pe,re]=l.useState({}),[be,de]=l.useState({}),[Ee,ve]=l.useState(!1),[Te,Ge]=l.useState([]),[$e,Oe]=l.useState(null),Se=[{value:"All",label:"All Departments"},{value:"dept_cs",label:"Computer Science"},{value:"dept_it",label:"Information Technology"},{value:"dept_sn",label:"Systems & Networks"},{value:"dept_se",label:"Software Engineering"}],je=[{value:"researcher",label:"Researcher"},{value:"admin",label:"System Admin"},{value:"academic_admin",label:"Academic Admin"},{value:"department_admin",label:"Department Admin"}],Pe=t=>{try{if(!t)return"";if(t.includes("scholar.google.com")){const d=t.match(/[?&]user=([^&#]+)/);if(d&&d[1])return d[1]}return t}catch(d){return console.error("Error extracting Scholar ID from URL:",d),t}},K=async()=>{c(!0);try{const t=Ne(Q,"users"),d=Ne(Q,"admins"),j=Ne(Q,"academicAdmins"),W=Ne(Q,"departmentAdmins"),B=Ne(Q,"pendingUsers");let se,ue,L,O,le;try{se=await Ie(t)}catch(P){console.error("Error fetching users:",P),se={docs:[]}}try{ue=await Ie(d)}catch(P){console.error("Error fetching admins:",P),ue={docs:[]}}try{L=await Ie(j)}catch(P){console.error("Error fetching academic admins:",P),L={docs:[]}}try{O=await Ie(W)}catch(P){console.error("Error fetching department admins:",P),O={docs:[]}}try{le=await Ie(B)}catch(P){console.error("Error fetching pending users:",P),le={docs:[]}}const we=se.docs.map(P=>{try{const g=P.data();return{id:P.id,email:g.email||"N/A",firstName:g.firstName||"N/A",lastName:g.lastName||"N/A",department:g.department||"N/A",googleScholarLink:g.googleScholarLink||"N/A",scholarId:g.scholarId||g.scholar_id||"N/A",scholar_id:g.scholar_id||g.scholarId||"N/A",role:"researcher"}}catch(g){return console.error(`Error processing user document ${P.id}:`,g),{id:P.id,email:"Error",firstName:"Error",lastName:"Error",department:"N/A",googleScholarLink:"N/A",scholarId:"N/A",scholar_id:"N/A",role:"researcher"}}}),fe=ue.docs.map(P=>{try{const g=P.data();return{id:P.id,email:g.email||"N/A",firstName:g.firstName||"N/A",lastName:g.lastName||"N/A",department:g.department||"N/A",googleScholarLink:g.googleScholarLink||"N/A",scholarId:g.scholarId||g.scholar_id||"N/A",scholar_id:g.scholar_id||g.scholarId||"N/A",role:"admin"}}catch(g){return console.error(`Error processing admin document ${P.id}:`,g),{id:P.id,email:"Error",firstName:"Error",lastName:"Error",department:"N/A",googleScholarLink:"N/A",scholarId:"N/A",scholar_id:"N/A",role:"admin"}}}),ye=L.docs.map(P=>{try{const g=P.data();return{id:P.id,email:g.email||"N/A",firstName:g.firstName||"N/A",lastName:g.lastName||"N/A",department:g.department||"N/A",scholarId:g.scholarId||g.scholar_id||"N/A",scholar_id:g.scholar_id||g.scholarId||"N/A",googleScholarLink:g.googleScholarLink||"N/A",role:"academic_admin"}}catch(g){return console.error(`Error processing academic admin document ${P.id}:`,g),{id:P.id,email:"Error",firstName:"Error",lastName:"Error",department:"N/A",scholarId:"N/A",scholar_id:"N/A",googleScholarLink:"N/A",role:"academic_admin"}}}),Z=O.docs.map(P=>{try{const g=P.data();return{id:P.id,email:g.email||"N/A",firstName:g.firstName||"N/A",lastName:g.lastName||"N/A",department:g.department||"N/A",scholarId:g.scholarId||g.scholar_id||"N/A",scholar_id:g.scholar_id||g.scholarId||"N/A",googleScholarLink:g.googleScholarLink||"N/A",role:"department_admin"}}catch(g){return console.error(`Error processing department admin document ${P.id}:`,g),{id:P.id,email:"Error",firstName:"Error",lastName:"Error",department:"N/A",scholarId:"N/A",scholar_id:"N/A",googleScholarLink:"N/A",role:"department_admin"}}}),oe=le.docs.map(P=>{try{const g=P.data();return{id:P.id,email:g.email||"N/A",firstName:g.firstName||"N/A",lastName:g.lastName||"N/A",requestedRole:g.requestedRole||"researcher",department:g.department||"N/A",googleScholarLink:g.googleScholarLink||"N/A",scholarId:g.scholarId||g.scholar_id||"N/A",scholar_id:g.scholar_id||g.scholarId||"N/A",createdAt:g.createdAt||null}}catch(g){return console.error(`Error processing pending user document ${P.id}:`,g),{id:P.id,email:"Error",firstName:"Error",lastName:"Error",requestedRole:"researcher",department:"N/A",googleScholarLink:"N/A",scholarId:"N/A",scholar_id:"N/A",createdAt:null}}});a(we),r(fe),u(ye),b(Z),y(oe),R.success("User data loaded successfully")}catch(t){console.error("Error in fetchUsers:",t),R.error("Failed to fetch user data: "+t.message)}finally{m(!1),c(!1)}},ot=async t=>{if(!t||!t.id)return R.warning("Invalid user data"),[];de(d=>({...d,[t.id]:!0})),console.log(`Attempting to fetch publications for ${t.firstName} ${t.lastName} (${t.email})`);try{const d=t.scholarId||t.scholar_id,j=d&&d!=="N/A"?d:Pe(t.googleScholarLink);if(console.log(`Using Scholar ID: ${j}`),!j||j==="N/A")return R.warning("No Scholar ID available. Please add a Google Scholar ID first."),de(O=>({...O,[t.id]:!1})),[];let W=[];const B=["cs","it","sn","se"],se=t.role==="department_admin"&&t.department&&t.department!=="All"&&t.department!=="N/A"?[t.department.replace("dept_","")]:B;for(const O of se)try{const le=`colleges/faculty_computing/departments/${O}/faculty_members/${j}/publications`;console.log(`Searching in path: ${le}`);const we=Ne(Q,le),fe=await Ie(we);if(!fe.empty){console.log(`Found ${fe.docs.length} publications in ${O} department`);const ye=fe.docs.map(Z=>{const oe=Z.data();return{id:Z.id,title:oe.title||"Untitled",year:oe.pub_year||oe.year||"",journal:oe.journal||oe.publisher||"Unknown venue",publisher:oe.publisher||"",url:oe.pub_url||oe.url||"",citations:oe.num_citations||0,pages:oe.pages||"",authors:oe.authors||[],abstract:oe.abstract||"",path:le+"/"+Z.id,...oe}});W=[...W,...ye]}}catch(le){console.error(`Error searching in ${O} department: ${le.message}`)}if(W.length===0&&t.role!=="department_admin"){console.log("No publications found in department paths. Trying collectionGroup query...");try{const O=wa(Ia(Q,"publications")),le=await Ie(O);console.log(`Found ${le.docs.length} total publications across all collections`);const we=le.docs.filter(fe=>fe.ref.path.includes(j));if(we.length>0){console.log(`Found ${we.length} publications via collectionGroup query that match Scholar ID: ${j}`);const fe=we.map(ye=>{const Z=ye.data();return{id:ye.id,path:ye.ref.path,title:Z.title||"Untitled",year:Z.pub_year||Z.year||"",journal:Z.journal||Z.publisher||"Unknown venue",publisher:Z.publisher||"",url:Z.pub_url||Z.url||"",citations:Z.num_citations||0,pages:Z.pages||"",authors:Z.authors||[],abstract:Z.abstract||"",...Z}});W=[...W,...fe]}else console.log(`No publications found with Scholar ID ${j} in path`)}catch(O){console.error(`Error with collectionGroup query: ${O.message}`)}}const ue=[],L=new Set;for(const O of W)O.title&&!L.has(O.title)&&(L.add(O.title),ue.push(O));return console.log(`Total unique publications found: ${ue.length}`),ue.length===0&&R.info(`No publications found for Scholar ID: ${j}. Make sure the Scholar ID is correct.`),re(O=>({...O,[t.id]:ue})),ue}catch(d){return console.error("Error fetching publications:",d),R.error(`Failed to fetch publications: ${d.message}`),[]}finally{de(d=>({...d,[t.id]:!1}))}},ze=async t=>{Oe(t),Ge([]),ve(!0);let d=pe[t.id]||[];d.length===0&&(d=await ot(t)),d.length===0&&R.info(`No publications found for ${t.firstName} ${t.lastName}`),Ge(d)},Me=async t=>{Fe({title:"Are you sure you want to delete this user?",icon:n.jsx(ct,{style:{color:"red"}}),content:`You are about to permanently delete user ${t.firstName} ${t.lastName} (${t.email}).`,okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk:async()=>{try{c(!0);let d=me(t.role);await Qe(xe(Q,d,t.id)),K(),R.success("User deleted successfully")}catch(d){console.error("Error deleting user: ",d),R.error(`Failed to delete user: ${d.message}`)}finally{c(!1)}}})},st=async(t,d)=>{if(t.role===d)return;if((d==="department_admin"||d==="academic_admin")&&(!t.department||t.department==="N/A")){R.error("Department is required for this role. Please set a department first.");return}Fe({title:"Change User Role",icon:n.jsx(ct,{style:{color:"#1890ff"}}),content:`Are you sure you want to change ${t.firstName} ${t.lastName}'s role from "${t.role}" to "${d}"?`,okText:"Yes, Change",cancelText:"Cancel",onOk:async()=>{try{c(!0);const W={email:t.email,firstName:t.firstName,lastName:t.lastName,...t.department&&t.department!=="N/A"&&{department:t.department},...t.googleScholarLink&&t.googleScholarLink!=="N/A"&&{googleScholarLink:t.googleScholarLink},...t.scholarId&&t.scholarId!=="N/A"&&{scholarId:t.scholarId},...t.scholar_id&&t.scholar_id!=="N/A"&&{scholar_id:t.scholar_id},...!t.scholarId&&t.scholar_id&&t.scholar_id!=="N/A"&&{scholarId:t.scholar_id},...!t.scholar_id&&t.scholarId&&t.scholarId!=="N/A"&&{scholar_id:t.scholarId},updatedAt:qe(),roleChangedAt:qe(),previousRole:t.role};console.log("Transferring user data:",W);const B=me(t.role);await Qe(xe(Q,B,t.id));const se=me(d);await Ue(xe(Q,se,t.id),W),K(),R.success(`User role changed from ${t.role} to ${d} successfully`)}catch(W){console.error("Error changing user role: ",W),R.error(`Failed to change user role: ${W.message}`);try{const B=me(t.role),se={email:t.email,firstName:t.firstName,lastName:t.lastName,...t.department&&t.department!=="N/A"&&{department:t.department},...t.googleScholarLink&&t.googleScholarLink!=="N/A"&&{googleScholarLink:t.googleScholarLink},...t.scholarId&&t.scholarId!=="N/A"&&{scholarId:t.scholarId},...t.scholar_id&&t.scholar_id!=="N/A"&&{scholar_id:t.scholar_id}};await Ue(xe(Q,B,t.id),se),R.info("Restored original role due to error")}catch(B){console.error("Error restoring original role:",B),R.error("Critical error occurred. Please refresh the page.")}}finally{c(!1)}}})},me=t=>{switch(t){case"admin":return"admins";case"academic_admin":return"academicAdmins";case"department_admin":return"departmentAdmins";case"researcher":default:return"users"}},lt=t=>{ie(t),te(t.scholarId!=="N/A"?t.scholarId:t.scholar_id!=="N/A"?t.scholar_id:""),ce(t.googleScholarLink!=="N/A"?t.googleScholarLink:""),D(!0)},ke=t=>{const d=t.target.value;if(ce(d),d&&d.includes("scholar.google.com")){const j=Pe(d);j&&te(j)}},Zt=async()=>{if(V)try{c(!0);const t=me(V.role);await Ue(xe(Q,t,V.id),{...V,scholarId:Y.trim(),scholar_id:Y.trim(),...ae&&{googleScholarLink:ae.trim()}},{merge:!0}),R.success("Scholar ID updated successfully"),D(!1),K()}catch(t){console.error("Error updating Scholar ID: ",t),R.error(`Failed to update Scholar ID: ${t.message}`)}finally{c(!1)}},Xt=(t,d)=>{Fe({title:"Change Department",icon:n.jsx(ct,{style:{color:"#1890ff"}}),content:`Are you sure you want to change ${t.firstName} ${t.lastName}'s department?`,okText:"Yes, Change",cancelText:"Cancel",onOk:async()=>{try{c(!0);const j=me(t.role);await Ue(xe(Q,j,t.id),{...t,department:d},{merge:!0}),R.success("Department updated successfully"),K()}catch(j){console.error("Error updating department: ",j),R.error(`Failed to update department: ${j.message}`)}finally{c(!1)}}})},Yt=t=>{const d=je.find(j=>j.value===t);return d?d.label:"User"},Ke=t=>{const d=Se.find(j=>j.value===t);return d?d.label:t},Qt=async()=>{const t=Jn(),d=`https://litrix-f06e0.web.app/admin-signup?token=${t}&role=${h}`;try{const j=await Mt(Ne(Q,"invitations"),{email:N,token:t,role:h,department:I!=="All"?I:null,registrationLink:d,subject:`Invitation to join as ${Yt(h)}${I&&I!=="All"?` in ${Ke(I)}`:""}`,createdAt:qe(),sent:!1,status:"pending",needsEmail:!0});q(!1),R.success(`Invitation created for ${N}. The system will send an email shortly.`),w(""),T(""),setTimeout(async()=>{const B=(await ja(j)).data();B!=null&&B.sent?R.success("Email sent successfully "):(B==null?void 0:B.status)==="error"?R.error(" Failed to send email: "+((B==null?void 0:B.errorMessage)||"Unknown error")):R.warning("Email may be delayed. Check back later.")},4e3),A(d),z(!0)}catch(j){console.error("Error storing invitation: ",j),R.error(`Failed to store invitation: ${j.message}`),q(!1)}},yt=()=>{z(!1),w(""),T(""),A("")},Nt=async(t,d)=>{try{c(!0),Fe(d?{title:"Confirm User Approval",icon:n.jsx(Et,{style:{color:"green"}}),content:`Are you sure you want to approve ${t.firstName} ${t.lastName} (${t.email}) as a ${t.requestedRole}${t.department&&t.department!=="N/A"?` in the ${Ke(t.department)} department`:""}?`,okText:"Yes, Approve",cancelText:"Cancel",onOk:async()=>{try{const j=me(t.requestedRole||"researcher"),W={email:t.email,firstName:t.firstName,lastName:t.lastName,...t.department&&t.department!=="N/A"&&{department:t.department},...t.googleScholarLink&&t.googleScholarLink!=="N/A"&&{googleScholarLink:t.googleScholarLink},...t.scholarId&&t.scholarId!=="N/A"&&{scholarId:t.scholarId},...t.scholar_id&&t.scholar_id!=="N/A"&&{scholar_id:t.scholar_id},...!t.scholarId&&t.scholar_id&&t.scholar_id!=="N/A"&&{scholarId:t.scholar_id},...!t.scholar_id&&t.scholarId&&t.scholarId!=="N/A"&&{scholar_id:t.scholarId},approvedAt:qe()};await Ue(xe(Q,j,t.id),W),await Qe(xe(Q,"pendingUsers",t.id)),K(),R.success("User approved successfully")}catch(j){console.error("Error approving user: ",j),R.error(`Failed to approve user: ${j.message}`)}finally{c(!1)}}}:{title:"Confirm User Rejection",icon:n.jsx(Ot,{style:{color:"red"}}),content:`Are you sure you want to reject ${t.firstName} ${t.lastName}'s (${t.email}) request?`,okText:"Yes, Reject",okType:"danger",cancelText:"Cancel",onOk:async()=>{try{await Qe(xe(Q,"pendingUsers",t.id)),K(),R.info("User request rejected")}catch(j){console.error("Error rejecting user: ",j),R.error(`Failed to reject user request: ${j.message}`)}finally{c(!1)}}})}catch(j){console.error("Error processing pending user: ",j),R.error(`Failed to process user request: ${j.message}`),c(!1)}},De=t=>{if(!k)return!0;const d=k.toLowerCase();return t.email.toLowerCase().includes(d)||t.firstName.toLowerCase().includes(d)||t.lastName.toLowerCase().includes(d)||t.department&&t.department.toLowerCase().includes(d)||t.scholarId&&t.scholarId.toLowerCase().includes(d)},it=t=>f==="All"?!0:t.department===f,Jt=e.filter(t=>it(t)&&De(t)),ea=s.filter(t=>it(t)&&De(t)),ta=i.filter(t=>it(t)&&De(t)),aa=o.filter(t=>De(t)),Ze=v.filter(t=>De(t));l.useEffect(()=>{try{K()}catch(t){console.error("Error in initial fetchUsers:",t),R.error("Failed to load initial data. Please try refreshing the page."),m(!1)}},[]),l.useEffect(()=>{if(h==="department_admin"||h==="academic_admin"){if(!I){const t=Se.find(d=>d.value!=="All");t&&T(t.value)}}else T("")},[h]);const Xe=(t,d,j=!1,W=!1,B=!1,se=!1,ue=!1)=>n.jsxs("div",{className:"overflow-hidden mb-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:d}),n.jsx(tt,{count:t.length,showZero:!0,overflowCount:999,style:{backgroundColor:"#1890ff"}})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Ye,{spinning:x,tip:"Loading...",children:t.length>0?n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Name"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Name"}),j&&n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),W&&n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Google Scholar"}),B&&n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scholar ID"}),se&&n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Publications"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change Role"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(L=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:L.email}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:L.firstName}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:L.lastName}),j&&n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:ue?n.jsx(Re,{defaultValue:L.department,style:{width:170},onChange:O=>Xt(L,O),children:Se.filter(O=>O.value!=="All").map(O=>n.jsx(Ve,{value:O.value,children:O.label},O.value))}):Ke(L.department)}),W&&n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:L.googleScholarLink&&L.googleScholarLink!=="N/A"?n.jsx("a",{href:L.googleScholarLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Profile"}):n.jsx("span",{className:"text-gray-400",children:"Not Available"})}),B&&n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:L.scholarId&&L.scholarId!=="N/A"?L.scholarId:L.scholar_id&&L.scholar_id!=="N/A"?L.scholar_id:Pe(L.googleScholarLink)}),se&&n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:n.jsx(he,{type:"primary",size:"small",icon:n.jsx(At,{}),onClick:()=>ze(L),children:"View"})}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:n.jsx(Re,{defaultValue:L.role,style:{width:170},onChange:O=>st(L,O),children:je.map(O=>n.jsx(Ve,{value:O.value,children:O.label},O.value))})}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:n.jsxs(ut,{size:"middle",children:[n.jsx(er,{recipientId:L.id,children:n.jsx(he,{type:"primary",size:"small",icon:n.jsx(Pt,{}),title:"Send Notification"})}),n.jsx(St,{title:"Delete User",children:n.jsx(he,{type:"link",danger:!0,icon:n.jsx(wn,{}),onClick:()=>Me(L)})}),(W||B)&&n.jsx(St,{title:"Manage Scholar ID",children:n.jsx(he,{type:"link",icon:n.jsx(Pn,{}),onClick:()=>lt(L)})})]})})]},L.id))})]}):n.jsx(Be,{description:"No users found",image:Be.PRESENTED_IMAGE_SIMPLE})})})]}),na=()=>n.jsxs("div",{className:"overflow-hidden mb-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Pending User Requests"}),n.jsx(tt,{count:Ze.length,showZero:!0,overflowCount:999,style:{backgroundColor:"#faad14"}})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Ye,{spinning:x,tip:"Loading...",children:Ze.length>0?n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Name"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Name"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested Role"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Requested"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ze.map(t=>{var d;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.email}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.firstName}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.lastName}),n.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:[t.requestedRole,t.requestedRole==="department_admin"&&n.jsx(Kt,{color:"blue",className:"ml-2",children:"Department-specific"})]}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:t.department&&t.department!=="N/A"?Ke(t.department):"None"}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:(d=t.createdAt)!=null&&d.toDate?t.createdAt.toDate().toLocaleString():"N/A"}),n.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:n.jsxs(ut,{size:"small",children:[n.jsx(he,{type:"primary",size:"small",icon:n.jsx(Et,{}),onClick:()=>Nt(t,!0),children:"Approve"}),n.jsx(he,{danger:!0,size:"small",icon:n.jsx(Ot,{}),onClick:()=>Nt(t,!1),children:"Reject"})]})})]},t.id)})})]}):n.jsx(Be,{description:"No pending requests",image:Be.PRESENTED_IMAGE_SIMPLE})})})]});return n.jsxs(Dt,{className:"min-h-screen",children:[n.jsxs(tr,{className:"bg-white shadow-sm px-4 py-0 flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Admin Control Panel"}),n.jsx("div",{className:"flex items-center",children:n.jsx(he,{icon:n.jsx(_n,{}),onClick:K,loading:p,className:"mr-2",children:"Refresh"})})]}),n.jsx(ar,{className:"p-6",children:n.jsxs(Ye,{spinning:p,tip:"Loading initial data...",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:"Invite New Users"}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx(Ae,{prefix:n.jsx(Aa,{className:"text-gray-400"}),placeholder:"user@example.com",value:N,onChange:t=>w(t.target.value),style:{width:250}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsx(Re,{value:h,style:{width:200},onChange:t=>E(t),children:je.map(t=>n.jsx(Ve,{value:t.value,children:t.label},t.value))})]}),(h==="department_admin"||h==="academic_admin")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsx(Re,{value:I,style:{width:200},onChange:t=>T(t),children:Se.filter(t=>t.value!=="All").map(t=>n.jsx(Ve,{value:t.value,children:t.label},t.value))})]}),n.jsx(he,{type:"primary",icon:n.jsx(Pt,{}),onClick:Qt,loading:U,children:"Send Invitation"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-bold",children:"Manage Users"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ae,{prefix:n.jsx($a,{className:"text-gray-400"}),placeholder:"Search users...",value:k,onChange:t=>M(t.target.value),style:{width:250,marginRight:16}}),n.jsx(Re,{value:f,style:{width:200},onChange:t=>$(t),children:Se.map(t=>n.jsx(Ve,{value:t.value,children:t.label},t.value))})]})]}),n.jsxs(Bt,{activeKey:_,onChange:S,type:"card",children:[n.jsx(He,{tab:n.jsxs("span",{children:[n.jsx(xn,{}),"Pending Requests",n.jsx(tt,{count:Ze.length,style:{marginLeft:8},showZero:!1})]}),children:na()},"1"),n.jsx(He,{tab:n.jsxs("span",{children:[n.jsx(Dn,{}),"Researchers"]}),children:Xe(Jt,"Researchers",!0,!0,!0,!0,!0)},"2"),n.jsx(He,{tab:n.jsxs("span",{children:[n.jsx(At,{}),"Academic Admins"]}),children:Xe(ea,"Academic Administrators",!0,!0,!0,!0,!0)},"3"),n.jsx(He,{tab:n.jsxs("span",{children:[n.jsx(Sa,{}),"Department Admins"]}),children:Xe(ta,"Department Administrators",!0,!0,!0,!0,!0)},"4"),n.jsx(He,{tab:n.jsxs("span",{children:[n.jsx(Ea,{}),"System Admins"]}),children:Xe(aa,"System Administrators")},"5")]})]})]})}),n.jsxs(We,{title:"Manage Google Scholar ID",visible:ee,onCancel:()=>D(!1),onOk:Zt,okText:"Save",confirmLoading:x,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Scholar Profile URL"}),n.jsx(Ae,{placeholder:"https://scholar.google.com/citations?user=...",value:ae,onChange:ke}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Enter the full URL to the Google Scholar profile"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scholar ID"}),n.jsx(Ae,{placeholder:"Scholar ID",value:Y,onChange:t=>te(t.target.value)}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Automatically extracted from the URL"})]})]}),n.jsxs(We,{title:"Registration Link",visible:H,onCancel:yt,footer:[n.jsx(he,{onClick:yt,children:"Close"},"close"),n.jsx(he,{type:"primary",icon:n.jsx(Oa,{}),onClick:()=>{navigator.clipboard.writeText(C),R.success("Link copied to clipboard")},children:"Copy Link"},"copy")],children:[n.jsx("p",{className:"mb-4",children:"Share this link with the user to complete their registration:"}),n.jsx(Ae.TextArea,{value:C,autoSize:{minRows:2,maxRows:3},readOnly:!0})]}),n.jsx(We,{title:$e?`Publications - ${$e.firstName} ${$e.lastName}`:"Publications",visible:Ee,onCancel:()=>ve(!1),width:800,footer:[n.jsx(he,{onClick:()=>ve(!1),children:"Close"},"close")],children:n.jsx(Ye,{spinning:$e&&be[$e.id],children:Te.length>0?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("strong",{children:"Total Publications:"})," ",Te.length]}),n.jsx(Vt,{accordion:!0,className:"publication-list",children:Te.map((t,d)=>n.jsx(nr,{header:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:t.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:[t.pub_year||t.year||"","  ",t.journal||t.publisher||t.conference||"Unknown venue",t.num_citations?`  ${t.num_citations} citations`:""]})]}),children:n.jsxs(Pa,{bordered:!1,className:"bg-gray-50",children:[t.authors&&t.authors.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Authors:"})," ",Array.isArray(t.authors)?t.authors.join(", "):t.authors]}),t.publisher&&n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Publisher:"})," ",t.publisher]}),t.pages&&n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Pages:"})," ",t.pages]}),t.abstract&&n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Abstract:"})," ",t.abstract]}),(t.pub_url||t.url)&&n.jsx("div",{children:n.jsx("a",{href:t.pub_url||t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Publication"})})]})},t.id||d))})]}):n.jsx(Be,{description:"No publications found"})})})]})};export{lr as default};
