import{B as W,R as v,a7 as Dt,r as T,j as a,c as Jt,b as Me,e as ze,z as ht}from"./index-DirEgLJ3.js";import{f as D,r as It,a as Qt,b as Ct,c as er,i as ne,d as tt,p as G,L as z,g as $t,e as rt,h as Lt,D as tr,j as rr,k as he,l as ce,S as ar,A as nr,m as ir,n as pt,o as sr,q as de,s as or,u as lr,G as cr,t as Re,v as dr,w as Ze,x as ur,y as Oe,z as ft,B as mr,E as hr,R as ye,C as Ve,X as He,Y as le,T as ge,F as qe,H as We}from"./generateCategoricalChart-C4XmfqJR.js";import{B as xt}from"./BarChart-DvnP8pcN.js";import{a as Se,L as pr}from"./LineChart-ys88grG7.js";import{c as J}from"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=W("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=W("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=W("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var yr=["points","className","baseLinePoints","connectNulls"];function ue(){return ue=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},ue.apply(this,arguments)}function gr(r,e){if(r==null)return{};var n=jr(r,e),t,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)t=o[i],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function jr(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function jt(r){return kr(r)||wr(r)||Nr(r)||Ar()}function Ar(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(r,e){if(r){if(typeof r=="string")return Xe(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(r,e)}}function wr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kr(r){if(Array.isArray(r))return Xe(r)}function Xe(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var At=function(e){return e&&e.x===+e.x&&e.y===+e.y},Pr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(t){At(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),At(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},je=function(e,n){var t=Pr(e);n&&(t=[t.reduce(function(o,s){return[].concat(jt(o),jt(s))},[])]);var i=t.map(function(o){return o.reduce(function(s,h,p){return"".concat(s).concat(p===0?"M":"L").concat(h.x,",").concat(h.y)},"")}).join("");return t.length===1?"".concat(i,"Z"):i},Or=function(e,n,t){var i=je(e,t);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(je(n.reverse(),t).slice(1))},Sr=function(e){var n=e.points,t=e.className,i=e.baseLinePoints,o=e.connectNulls,s=gr(e,yr);if(!n||!n.length)return null;var h=J("recharts-polygon",t);if(i&&i.length){var p=s.stroke&&s.stroke!=="none",m=Or(n,i,o);return v.createElement("g",{className:h},v.createElement("path",ue({},D(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:m})),p?v.createElement("path",ue({},D(s,!0),{fill:"none",d:je(n,o)})):null,p?v.createElement("path",ue({},D(s,!0),{fill:"none",d:je(i,o)})):null)}var d=je(n,o);return v.createElement("path",ue({},D(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:h,d}))},Ye,Nt;function _r(){if(Nt)return Ye;Nt=1;var r=It(),e=Qt(),n=Ct();function t(i,o){return i&&i.length?r(i,n(o,2),e):void 0}return Ye=t,Ye}var Rr=_r();const Tr=Dt(Rr);var Ge,wt;function Er(){if(wt)return Ge;wt=1;var r=It(),e=Ct(),n=er();function t(i,o){return i&&i.length?r(i,e(o,2),n):void 0}return Ge=t,Ge}var Dr=Er();const Ir=Dt(Dr);var Cr=["cx","cy","angle","ticks","axisLine"],$r=["ticks","tick","angle","tickFormatter","stroke"];function pe(r){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(r)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Ae.apply(this,arguments)}function kt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,t)}return n}function re(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kt(Object(n),!0).forEach(function(t){Ce(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Pt(r,e){if(r==null)return{};var n=Lr(r,e),t,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)t=o[i],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Lr(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function Fr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Bt(t.key),t)}}function Br(r,e,n){return e&&Ot(r.prototype,e),n&&Ot(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Kr(r,e,n){return e=Ee(e),Mr(r,Ft()?Reflect.construct(e,n||[],Ee(r).constructor):e.apply(r,n))}function Mr(r,e){if(e&&(pe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(r)}function zr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ft(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ft=function(){return!!r})()}function Ee(r){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ee(r)}function Vr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Je(r,e)}function Je(r,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Je(r,e)}function Ce(r,e,n){return e=Bt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Bt(r){var e=Hr(r,"string");return pe(e)=="symbol"?e:e+""}function Hr(r,e){if(pe(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(pe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var $e=function(r){function e(){return Fr(this,e),Kr(this,e,arguments)}return Vr(e,r),Br(e,[{key:"getTickValueCoord",value:function(t){var i=t.coordinate,o=this.props,s=o.angle,h=o.cx,p=o.cy;return G(h,p,i,s)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,i;switch(t){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var t=this.props,i=t.cx,o=t.cy,s=t.angle,h=t.ticks,p=Tr(h,function(d){return d.coordinate||0}),m=Ir(h,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:m.coordinate||0,outerRadius:p.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,i=t.cx,o=t.cy,s=t.angle,h=t.ticks,p=t.axisLine,m=Pt(t,Cr),d=h.reduce(function(g,f){return[Math.min(g[0],f.coordinate),Math.max(g[1],f.coordinate)]},[1/0,-1/0]),N=G(i,o,d[0],s),P=G(i,o,d[1],s),_=re(re(re({},D(m,!1)),{},{fill:"none"},D(p,!1)),{},{x1:N.x,y1:N.y,x2:P.x,y2:P.y});return v.createElement("line",Ae({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var t=this,i=this.props,o=i.ticks,s=i.tick,h=i.angle,p=i.tickFormatter,m=i.stroke,d=Pt(i,$r),N=this.getTickTextAnchor(),P=D(d,!1),_=D(s,!1),g=o.map(function(f,w){var O=t.getTickValueCoord(f),b=re(re(re(re({textAnchor:N,transform:"rotate(".concat(90-h,", ").concat(O.x,", ").concat(O.y,")")},P),{},{stroke:"none",fill:m},_),{},{index:w},O),{},{payload:f});return v.createElement(z,Ae({className:J("recharts-polar-radius-axis-tick",$t(s)),key:"tick-".concat(f.coordinate)},rt(t.props,f,w)),e.renderTickItem(s,b,p?p(f.value,w):f.value))});return v.createElement(z,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var t=this.props,i=t.ticks,o=t.axisLine,s=t.tick;return!i||!i.length?null:v.createElement(z,{className:J("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Lt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,i,o){var s;return v.isValidElement(t)?s=v.cloneElement(t,i):ne(t)?s=t(i):s=v.createElement(tt,Ae({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(T.PureComponent);Ce($e,"displayName","PolarRadiusAxis");Ce($e,"axisType","radiusAxis");Ce($e,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fe(r){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(r)}function ie(){return ie=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},ie.apply(this,arguments)}function St(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,t)}return n}function ae(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(t){Le(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function qr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Mt(t.key),t)}}function Wr(r,e,n){return e&&_t(r.prototype,e),n&&_t(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ur(r,e,n){return e=De(e),Yr(r,Kt()?Reflect.construct(e,n||[],De(r).constructor):e.apply(r,n))}function Yr(r,e){if(e&&(fe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gr(r)}function Gr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Kt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kt=function(){return!!r})()}function De(r){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},De(r)}function Zr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Qe(r,e)}function Qe(r,e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Qe(r,e)}function Le(r,e,n){return e=Mt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Mt(r){var e=Xr(r,"string");return fe(e)=="symbol"?e:e+""}function Xr(r,e){if(fe(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(fe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Jr=Math.PI/180,Qr=1e-5,Fe=function(r){function e(){return qr(this,e),Ur(this,e,arguments)}return Zr(e,r),Wr(e,[{key:"getTickLineCoord",value:function(t){var i=this.props,o=i.cx,s=i.cy,h=i.radius,p=i.orientation,m=i.tickSize,d=m||8,N=G(o,s,h,t.coordinate),P=G(o,s,h+(p==="inner"?-1:1)*d,t.coordinate);return{x1:N.x,y1:N.y,x2:P.x,y2:P.y}}},{key:"getTickTextAnchor",value:function(t){var i=this.props.orientation,o=Math.cos(-t.coordinate*Jr),s;return o>Qr?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var t=this.props,i=t.cx,o=t.cy,s=t.radius,h=t.axisLine,p=t.axisLineType,m=ae(ae({},D(this.props,!1)),{},{fill:"none"},D(h,!1));if(p==="circle")return v.createElement(tr,ie({className:"recharts-polar-angle-axis-line"},m,{cx:i,cy:o,r:s}));var d=this.props.ticks,N=d.map(function(P){return G(i,o,s,P.coordinate)});return v.createElement(Sr,ie({className:"recharts-polar-angle-axis-line"},m,{points:N}))}},{key:"renderTicks",value:function(){var t=this,i=this.props,o=i.ticks,s=i.tick,h=i.tickLine,p=i.tickFormatter,m=i.stroke,d=D(this.props,!1),N=D(s,!1),P=ae(ae({},d),{},{fill:"none"},D(h,!1)),_=o.map(function(g,f){var w=t.getTickLineCoord(g),O=t.getTickTextAnchor(g),b=ae(ae(ae({textAnchor:O},d),{},{stroke:"none",fill:m},N),{},{index:f,payload:g,x:w.x2,y:w.y2});return v.createElement(z,ie({className:J("recharts-polar-angle-axis-tick",$t(s)),key:"tick-".concat(g.coordinate)},rt(t.props,g,f)),h&&v.createElement("line",ie({className:"recharts-polar-angle-axis-tick-line"},P,w)),s&&e.renderTickItem(s,b,p?p(g.value,f):g.value))});return v.createElement(z,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var t=this.props,i=t.ticks,o=t.radius,s=t.axisLine;return o<=0||!i||!i.length?null:v.createElement(z,{className:J("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,i,o){var s;return v.isValidElement(t)?s=v.cloneElement(t,i):ne(t)?s=t(i):s=v.createElement(tt,ie({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(T.PureComponent);Le(Fe,"displayName","PolarAngleAxis");Le(Fe,"axisType","angleAxis");Le(Fe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Te;function xe(r){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(r)}function me(){return me=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},me.apply(this,arguments)}function Rt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,t)}return n}function k(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(n),!0).forEach(function(t){K(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ea(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Vt(t.key),t)}}function ta(r,e,n){return e&&Tt(r.prototype,e),n&&Tt(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function ra(r,e,n){return e=Ie(e),aa(r,zt()?Reflect.construct(e,n||[],Ie(r).constructor):e.apply(r,n))}function aa(r,e){if(e&&(xe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(r)}function na(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zt=function(){return!!r})()}function Ie(r){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ie(r)}function ia(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&et(r,e)}function et(r,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},et(r,e)}function K(r,e,n){return e=Vt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Vt(r){var e=sa(r,"string");return xe(e)=="symbol"?e:e+""}function sa(r,e){if(xe(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(xe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var q=function(r){function e(n){var t;return ea(this,e),t=ra(this,e,[n]),K(t,"pieRef",null),K(t,"sectorRefs",[]),K(t,"id",lr("recharts-pie-")),K(t,"handleAnimationEnd",function(){var i=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ne(i)&&i()}),K(t,"handleAnimationStart",function(){var i=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ne(i)&&i()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return ia(e,r),ta(e,[{key:"isActiveIndex",value:function(t){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(t)!==-1:t===i}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,h=o.labelLine,p=o.dataKey,m=o.valueKey,d=D(this.props,!1),N=D(s,!1),P=D(h,!1),_=s&&s.offsetRadius||20,g=t.map(function(f,w){var O=(f.startAngle+f.endAngle)/2,b=G(f.cx,f.cy,f.outerRadius+_,O),$=k(k(k(k({},d),f),{},{stroke:"none"},N),{},{index:w,textAnchor:e.getTextAnchor(b.x,f.cx)},b),L=k(k(k(k({},d),f),{},{fill:"none",stroke:f.fill},P),{},{index:w,points:[G(f.cx,f.cy,f.outerRadius,O),b]}),F=p;return he(p)&&he(m)?F="value":he(p)&&(F=m),v.createElement(z,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(w)},h&&e.renderLabelLineItem(h,L,"line"),e.renderLabelItem(s,$,ce(f,F)))});return v.createElement(z,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(t){var i=this,o=this.props,s=o.activeShape,h=o.blendStroke,p=o.inactiveShape;return t.map(function(m,d){if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var N=i.isActiveIndex(d),P=p&&i.hasActiveIndex()?p:null,_=N?s:P,g=k(k({},m),{},{stroke:h?m.fill:m.stroke,tabIndex:-1});return v.createElement(z,me({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},rt(i.props,m,d),{key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(d)}),v.createElement(ar,me({option:_,isActive:N,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,i=this.props,o=i.sectors,s=i.isAnimationActive,h=i.animationBegin,p=i.animationDuration,m=i.animationEasing,d=i.animationId,N=this.state,P=N.prevSectors,_=N.prevIsAnimationActive;return v.createElement(nr,{begin:h,duration:p,isActive:s,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var f=g.t,w=[],O=o&&o[0],b=O.startAngle;return o.forEach(function($,L){var F=P&&P[L],M=L>0?ir($,"paddingAngle",0):0;if(F){var Q=pt(F.endAngle-F.startAngle,$.endAngle-$.startAngle),I=k(k({},$),{},{startAngle:b+M,endAngle:b+Q(f)+M});w.push(I),b=I.endAngle}else{var U=$.endAngle,R=$.startAngle,Y=pt(0,U-R),ee=Y(f),V=k(k({},$),{},{startAngle:b+M,endAngle:b+ee+M});w.push(V),b=V.endAngle}}),v.createElement(z,null,t.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(t){var i=this;t.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var h=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[h].focus(),i.setState({sectorToFocus:h});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,i=t.sectors,o=t.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!sr(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,i=this.props,o=i.hide,s=i.sectors,h=i.className,p=i.label,m=i.cx,d=i.cy,N=i.innerRadius,P=i.outerRadius,_=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!s||!s.length||!de(m)||!de(d)||!de(N)||!de(P))return null;var f=J("recharts-pie",h);return v.createElement(z,{tabIndex:this.props.rootTabIndex,className:f,ref:function(O){t.pieRef=O}},this.renderSectors(),p&&this.renderLabels(s),Lt.renderCallByParent(this.props,null,!1),(!_||g)&&or.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,i){return i.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==i.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:t.sectors!==i.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,i){return t>i?"start":t<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,i,o){if(v.isValidElement(t))return v.cloneElement(t,i);if(ne(t))return t(i);var s=J("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return v.createElement(rr,me({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(t,i,o){if(v.isValidElement(t))return v.cloneElement(t,i);var s=o;if(ne(t)&&(s=t(i),v.isValidElement(s)))return s;var h=J("recharts-pie-label-text",typeof t!="boolean"&&!ne(t)?t.className:"");return v.createElement(tt,me({},i,{alignmentBaseline:"middle",className:h}),s)}}])}(T.PureComponent);Te=q;K(q,"displayName","Pie");K(q,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});K(q,"parseDeltaAngle",function(r,e){var n=Re(e-r),t=Math.min(Math.abs(e-r),360);return n*t});K(q,"getRealPieData",function(r){var e=r.data,n=r.children,t=D(r,!1),i=dr(n,Ze);return e&&e.length?e.map(function(o,s){return k(k(k({payload:o},t),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return k(k({},t),o.props)}):[]});K(q,"parseCoordinateOfPie",function(r,e){var n=e.top,t=e.left,i=e.width,o=e.height,s=ur(i,o),h=t+Oe(r.cx,i,i/2),p=n+Oe(r.cy,o,o/2),m=Oe(r.innerRadius,s,0),d=Oe(r.outerRadius,s,s*.8),N=r.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:h,cy:p,innerRadius:m,outerRadius:d,maxRadius:N}});K(q,"getComposedData",function(r){var e=r.item,n=r.offset,t=e.type.defaultProps!==void 0?k(k({},e.type.defaultProps),e.props):e.props,i=Te.getRealPieData(t);if(!i||!i.length)return null;var o=t.cornerRadius,s=t.startAngle,h=t.endAngle,p=t.paddingAngle,m=t.dataKey,d=t.nameKey,N=t.valueKey,P=t.tooltipType,_=Math.abs(t.minAngle),g=Te.parseCoordinateOfPie(t,n),f=Te.parseDeltaAngle(s,h),w=Math.abs(f),O=m;he(m)&&he(N)?(ft(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):he(m)&&(ft(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=N);var b=i.filter(function(I){return ce(I,O,0)!==0}).length,$=(w>=360?b:b-1)*p,L=w-b*_-$,F=i.reduce(function(I,U){var R=ce(U,O,0);return I+(de(R)?R:0)},0),M;if(F>0){var Q;M=i.map(function(I,U){var R=ce(I,O,0),Y=ce(I,d,U),ee=(de(R)?R:0)/F,V;U?V=Q.endAngle+Re(f)*p*(R!==0?1:0):V=s;var Ne=V+Re(f)*((R!==0?_:0)+ee*L),we=(V+Ne)/2,ke=(g.innerRadius+g.outerRadius)/2,Be=[{name:Y,value:R,payload:I,dataKey:O,type:P}],se=G(g.cx,g.cy,ke,we);return Q=k(k(k({percent:ee,cornerRadius:o,name:Y,tooltipPayload:Be,midAngle:we,middleRadius:ke,tooltipPosition:se},I),g),{},{value:ce(I,O),startAngle:V,endAngle:Ne,payload:I,paddingAngle:Re(f)*p}),Q})}return k(k({},g),{},{sectors:M,data:i})});var Et=mr({chartName:"PieChart",GraphicalChild:q,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fe},{axisType:"radiusAxis",AxisComp:$e}],formatAxisMap:hr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const pa=()=>{var at,nt,it;const[r,e]=T.useState(!0),[n,t]=T.useState(null),[i,o]=T.useState("dashboard"),[s,h]=T.useState(null),[p,m]=T.useState([]),[d,N]=T.useState(null),[P,_]=T.useState(!1),[g,f]=T.useState([]),[w,O]=T.useState([]),[b,$]=T.useState({}),[L,F]=T.useState([]),[M,Q]=T.useState({}),[I,U]=T.useState({}),R={dept_se:"Software Engineering",dept_cs:"Computer Science",dept_it:"Information Technology",dept_sn:"Systems and Networks",dept_ai:"Artificial Intelligence"},Y=["#4DA7D0","#8ACCE6","#36A2EB","#9AD0F5","#5CBAE6","#4DB6AC","#81C784"];T.useEffect(()=>{(async()=>{try{e(!0);const u=Jt(Me,"colleges/faculty_computing/departments"),y=(await ze(u)).docs.map(c=>({id:c.id,name:R[c.id]||c.id,...c.data()})).filter(c=>R[c.id]);F(y);const E={},B=[2020,2021,2022,2023,2024];B.forEach(c=>{E[c]={publications:0,citations:0}});const Z={},be={},oe=ht(Me,"faculty_members"),Ke=(await ze(oe)).docs.map(c=>({id:c.id,department:c.ref.parent.parent.id,...c.data()})),Ht=Ke.map(c=>c.name?c.name.trim().toLowerCase():`${c.firstName||""} ${c.lastName||""}`.trim().toLowerCase()),ot=c=>{const A=c.trim().toLowerCase();return!Ht.includes(A)};y.forEach(c=>{Z[c.id]={},be[c.id]=[],B.forEach(S=>{Z[c.id][S]={publications:0,citations:0}}),Ke.filter(S=>S.department===c.id).forEach(S=>{const H=S.name||`${S.firstName||""} ${S.lastName||""}`.trim();H&&be[c.id].push({id:S.id,name:H,picture:S.url_picture||null})})});const qt=ht(Me,"publications"),lt=(await ze(qt)).docs.map(c=>({id:c.id,...c.data(),researcherId:c.ref.parent.parent.id,department:c.ref.parent.parent.parent.parent.id})),ve=lt.filter(c=>{const A=parseInt(c.pub_year);return A>=2021&&A<=2024}),Wt=[2021,2022,2023,2024].map(c=>{const A=ve.filter(X=>parseInt(X.pub_year)===c),S=A.reduce((X,C)=>X+(parseInt(C.num_citations)||0),0),H=A.filter(X=>(X.authors?X.authors.split(",").map(te=>te.trim()):[]).some(te=>ot(te))).length;return{year:c,publications:A.length,citations:S,collaborations:H}}),ct=ve.length,Ut=ve.reduce((c,A)=>c+(parseInt(A.num_citations)||0),0),dt=ve.filter(c=>(c.authors?c.authors.split(",").map(S=>S.trim()):[]).some(S=>ot(S))),ut=dt.length,Yt=(ut/ct*100).toFixed(1),Gt=[...Ke.map(c=>{const A=ve.filter(C=>C.researcherId===c.id),S=A.map(C=>parseInt(C.num_citations)||0).sort((C,te)=>te-C);let H=0;for(let C=0;C<S.length&&S[C]>=C+1;C++)H=C+1;const X=A.reduce((C,te)=>C+(parseInt(te.num_citations)||0),0);return{...c,hIndex:H,publications:A.length,citations:X}})].sort((c,A)=>A.hIndex-c.hIndex).slice(0,10);lt.forEach(c=>{const A=parseInt(c.pub_year),S=c.department,H=parseInt(c.num_citations)||0;A>=2020&&A<=2024&&Z[S]&&(Z[S][A].publications+=1,Z[S][A].citations+=H,E[A].publications+=1,E[A].citations+=H)});const Pe=B.map(c=>({year:c,publications:E[c].publications,citations:E[c].citations})),Zt=Pe.reduce((c,A)=>c+A.publications,0),Xt=Pe.reduce((c,A)=>c+A.citations,0);Pe.push({year:"Total",publications:Zt,citations:Xt}),h({totalPublications:ct,totalCitations:Ut,yearlyPublications:Wt}),N({total:ut,percentageOfTotal:Yt,publications:dt}),m(Gt),O(Pe),$(Z),Q(be);const mt={};y.forEach(c=>{mt[c.id]=!1}),U(mt)}catch(u){console.error("Error fetching research data:",u),t(u.message)}finally{e(!1)}})()},[]);const ee=(l,u)=>{const j=new Blob([l],{type:"text/csv"}),x=window.URL.createObjectURL(j),y=document.createElement("a");y.setAttribute("hidden",""),y.setAttribute("href",x),y.setAttribute("download",u),document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)},V=()=>{f((d==null?void 0:d.publications)||[]),_(!0)},Ne=()=>{const l=`Rank,Researcher,Department,H-Index,Publications,Citations
`,u=p.map((x,y)=>{const E=x.name||`${x.firstName||""} ${x.lastName||""}`.trim(),B=R[x.department]||"N/A";return[y+1,`"${E}"`,B,x.hIndex,x.publications,x.citations].join(",")}).join(`
`),j=l+u;ee(j,"top_researchers_hindex.csv")},we=l=>{U(u=>({...u,[l]:!u[l]}))},ke=()=>{let l=`Level,Year,Publications,Citations
`;w.forEach(j=>{j.year!=="Total"&&(l+=`College,${j.year},${j.publications},${j.citations}
`)}),L.forEach(j=>{const x=R[j.id]||j.id;if(Object.keys(b[j.id]||{}).forEach(y=>{const E=b[j.id][y];l+=`${x},${y},${E.publications},${E.citations}
`}),b[j.id]){const y={publications:Object.values(b[j.id]).reduce((E,B)=>E+B.publications,0),citations:Object.values(b[j.id]).reduce((E,B)=>E+B.citations,0)};l+=`${x},Total,${y.publications},${y.citations}
`}});const u=w.find(j=>j.year==="Total");u&&(l+=`College,Total,${u.publications},${u.citations}
`),ee(l,`research_report_2020_2024_${new Date().toLocaleDateString().replace(/\//g,"-")}.csv`)},Be=()=>P?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-4xl max-h-screen overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(xr,{size:24,className:"text-blue-600 mr-3"}),a.jsx("h2",{className:"text-xl font-bold text-blue-800",children:"External Research Authors"})]}),a.jsx("button",{onClick:()=>_(!1),className:"p-2 rounded-full hover:bg-gray-200 transition-colors",children:a.jsx(vr,{size:20,className:"text-gray-600"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(_e,{size:20,className:"text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Collaboration Summary"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Total external collaborations: ",d==null?void 0:d.total]})]})]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[d==null?void 0:d.percentageOfTotal,"% of all publications involve external authors, demonstrating our commitment to cross-institutional research partnerships."]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Publications with External Authors"}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full",children:[g.length," publications"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map((l,u)=>a.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:l.title}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Year:"})," ",a.jsx("span",{className:"font-medium",children:l.pub_year})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Citations:"})," ",a.jsx("span",{className:"font-medium",children:l.num_citations||0})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Journal:"})," ",a.jsx("span",{className:"font-medium",children:l.journal||"N/A"})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Authors:"}),a.jsx("p",{className:"text-sm mt-1",children:l.authors})]}),l.abstract&&a.jsx("div",{className:"mt-3",children:a.jsxs("details",{children:[a.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800 text-sm",children:"Show Abstract"}),a.jsx("p",{className:"mt-2 text-sm text-gray-700 bg-gray-50 p-3 rounded",children:l.abstract})]})})]},u))})]})]})}),a.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:a.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Close"})})]})}):null,se=({title:l,value:u,icon:j,secondaryValue:x,trend:y,details:E,action:B,actionLabel:Z,actionIcon:be})=>{const[oe,st]=T.useState(!1);return a.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 h-full",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-gray-600 font-medium text-sm",children:l}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50",children:j})]}),a.jsx("div",{className:"text-3xl font-bold text-blue-800 mb-2",children:u||"N/A"}),x&&a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:x}),y&&a.jsx("div",{className:"mt-4",children:a.jsxs("span",{className:`inline-flex items-center text-xs px-3 py-1 rounded-full ${y.positive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[y.positive?a.jsx(Ue,{size:14,className:"mr-1"}):a.jsx(Ue,{size:14,className:"mr-1 transform rotate-180"}),y.label]})}),E&&a.jsx("div",{className:"mt-4",children:a.jsxs("button",{className:"flex items-center text-blue-500 hover:text-blue-700",onClick:()=>st(!oe),children:[oe?a.jsx(vt,{size:16,className:"mr-2"}):a.jsx(bt,{size:16,className:"mr-2"}),oe?"Hide Details":"Show Details"]})}),B&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",onClick:B,children:[be,Z]})}),oe&&a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg max-h-64 overflow-y-auto",children:E})]})})};return r?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-b-blue-700 rounded-full animate-spin"})}):n?a.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4",children:[a.jsx("h2",{className:"text-2xl text-red-500",children:"Error Loading Dashboard"}),a.jsx("p",{children:n}),a.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Retry"})]}):a.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[a.jsx(Be,{}),a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"container mx-auto px-6",children:a.jsxs("div",{className:"flex space-x-8",children:[a.jsx("button",{className:`py-4 px-2 text-sm font-medium border-b-2 ${i==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-blue-500"}`,onClick:()=>o("dashboard"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{size:16,className:"mr-2"}),"Research Overview"]})}),a.jsx("button",{className:`py-4 px-2 text-sm font-medium border-b-2 ${i==="report"?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-blue-500"}`,onClick:()=>o("report"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{size:16,className:"mr-2"}),"Research Report"]})})]})})}),a.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i==="dashboard"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-blue-800",children:"Research Performance Overveiw"}),a.jsx("p",{className:"text-gray-600",children:"Analyze research metrics and trends (2021-2024)"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(se,{title:"Total Publications",value:((at=s==null?void 0:s.totalPublications)==null?void 0:at.toLocaleString())||"N/A",icon:a.jsx(gt,{color:"#4DA7D0",size:24}),secondaryValue:"Scientific papers, articles, and conference proceedings",trend:{label:"+18.3% vs. previous period",positive:!0}}),a.jsx(se,{title:"Total Citations",value:((nt=s==null?void 0:s.totalCitations)==null?void 0:nt.toLocaleString())||"N/A",icon:a.jsx(Ue,{color:"#4DA7D0",size:24}),secondaryValue:"References to our published research",trend:{label:"+23.6% vs. previous period",positive:!0}}),a.jsx(se,{title:"External Authors",value:((it=d==null?void 0:d.total)==null?void 0:it.toLocaleString())||"N/A",icon:a.jsx(_e,{color:"#4DA7D0",size:24}),secondaryValue:`${d==null?void 0:d.percentageOfTotal}% of total publications`,trend:{label:"+12.8% vs. previous period",positive:!0},action:V,actionLabel:"View Authors",actionIcon:a.jsx(_e,{size:16,className:"mr-2"})}),a.jsx(se,{title:"Avg. H-Index (Top 10)",value:p.length>0?(p.reduce((l,u)=>l+u.hIndex,0)/p.length).toFixed(1):"N/A",icon:a.jsx(fr,{color:"#4DA7D0",size:24}),secondaryValue:"Average of top 10 faculty members",trend:{label:"+2.4 points vs. previous period",positive:!0}})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-6",children:"Publication Trends (2021-2024)"}),a.jsx("div",{className:"h-80",children:a.jsx(ye,{width:"100%",height:"100%",children:a.jsxs(xt,{data:(s==null?void 0:s.yearlyPublications)||[],margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(Ve,{strokeDasharray:"3 3"}),a.jsx(He,{dataKey:"year"}),a.jsx(le,{yAxisId:"left",orientation:"left",stroke:"#4DA7D0"}),a.jsx(le,{yAxisId:"right",orientation:"right",stroke:"#6366F1"}),a.jsx(ge,{formatter:(l,u)=>[l,u==="publications"?"Publications":u==="citations"?"Citations":"External Collaborations"]}),a.jsx(qe,{}),a.jsx(We,{yAxisId:"left",dataKey:"publications",name:"Publications",fill:"#4DA7D0",radius:[4,4,0,0]}),a.jsx(We,{yAxisId:"left",dataKey:"collaborations",name:"External Collaborations",fill:"#60A5FA",radius:[4,4,0,0]}),a.jsx(Se,{yAxisId:"right",type:"monotone",dataKey:"citations",name:"Citations",stroke:"#6366F1",strokeWidth:3,dot:{r:6},activeDot:{r:8}})]})})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-6",children:"Publications by Department"}),a.jsx("div",{className:"h-80",children:a.jsx(ye,{width:"100%",height:"100%",children:a.jsxs(Et,{children:[a.jsx(q,{data:L.map(l=>{let u=0;return b[l.id]&&(u=Object.values(b[l.id]).reduce((j,x)=>j+x.publications,0)),{name:R[l.id],value:u}}),cx:"50%",cy:"50%",labelLine:!0,outerRadius:120,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:l,percent:u})=>`${l}: ${(u*100).toFixed(1)}%`,children:L.map((l,u)=>a.jsx(Ze,{fill:Y[u%Y.length]},`cell-${u}`))}),a.jsx(ge,{formatter:(l,u,j)=>[`${l} publications`,u]})]})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-6",children:"Citations by Department"}),a.jsx("div",{className:"h-80",children:a.jsx(ye,{width:"100%",height:"100%",children:a.jsxs(Et,{children:[a.jsx(q,{data:L.map(l=>{let u=0;return b[l.id]&&(u=Object.values(b[l.id]).reduce((j,x)=>j+x.citations,0)),{name:R[l.id],value:u}}),cx:"50%",cy:"50%",labelLine:!0,outerRadius:120,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:l,percent:u})=>`${l}: ${(u*100).toFixed(1)}%`,children:L.map((l,u)=>a.jsx(Ze,{fill:Y[u%Y.length]},`cell-${u}`))}),a.jsx(ge,{formatter:(l,u,j)=>[`${l} citations`,u]})]})})})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800",children:"Top 10 Researchers by H-Index"}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",onClick:Ne,children:[a.jsx(yt,{size:16,className:"mr-2"}),"Download H-Index Table"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-600",children:"Rank"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-600",children:"Researcher"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-600",children:"Department"}),a.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-600",children:"H-Index"}),a.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-600",children:"Publications"}),a.jsx("th",{className:"py-3 px-4 text-center text-sm font-medium text-gray-600",children:"Citations"})]})}),a.jsx("tbody",{children:p.map((l,u)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:a.jsxs("span",{className:"font-bold text-gray-700",children:["#",u+1]})}),a.jsx("td",{className:"py-3 px-4 border-b",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:l.url_picture||"/api/placeholder/40/40",alt:l.name||`${l.firstName||""} ${l.lastName||""}`.trim(),className:"w-10 h-10 rounded-full mr-3 border-2 border-white shadow"}),a.jsx("span",{className:"font-medium text-gray-700",children:l.name||`${l.firstName||""} ${l.lastName||""}`.trim()})]})}),a.jsx("td",{className:"py-3 px-4 border-b",children:a.jsx("span",{className:"bg-blue-50 text-blue-800 text-xs px-2 py-1 rounded-full border border-blue-100",children:R[l.department]||"N/A"})}),a.jsx("td",{className:"py-3 px-4 border-b text-center",children:a.jsx("span",{className:"text-lg font-bold text-blue-600",children:l.hIndex})}),a.jsx("td",{className:"py-3 px-4 border-b text-center",children:l.publications}),a.jsx("td",{className:"py-3 px-4 border-b text-center",children:l.citations})]},l.id))})]})})]})})]}),i==="report"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-blue-800",children:"Research Publications Report (2020-2024)"}),a.jsx("p",{className:"text-gray-600",children:"College and department level research statistics"})]}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:ke,children:[a.jsx(yt,{size:16,className:"mr-2"}),"Export Report CSV"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-4",children:"College-Wide Research Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium text-gray-600",children:"Year"}),a.jsx("th",{className:"py-3 px-6 text-center text-sm font-medium text-gray-600",children:"Publications"}),a.jsx("th",{className:"py-3 px-6 text-center text-sm font-medium text-gray-600",children:"Citations"})]})}),a.jsx("tbody",{children:w.map(l=>a.jsxs("tr",{className:`hover:bg-gray-50 ${l.year==="Total"?"bg-blue-50 font-bold":""}`,children:[a.jsx("td",{className:"py-3 px-6 border-b",children:l.year}),a.jsx("td",{className:"py-3 px-6 border-b text-center",children:l.publications}),a.jsx("td",{className:"py-3 px-6 border-b text-center",children:l.citations})]},l.year))})]})}),a.jsx("div",{className:"h-80",children:a.jsx(ye,{width:"100%",height:"100%",children:a.jsxs(pr,{data:w.filter(l=>l.year!=="Total"),margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(Ve,{strokeDasharray:"3 3"}),a.jsx(He,{dataKey:"year"}),a.jsx(le,{yAxisId:"left",orientation:"left",stroke:"#4DA7D0"}),a.jsx(le,{yAxisId:"right",orientation:"right",stroke:"#6366F1"}),a.jsx(ge,{}),a.jsx(qe,{}),a.jsx(Se,{yAxisId:"left",type:"monotone",dataKey:"publications",name:"Publications",stroke:"#4DA7D0",strokeWidth:3,activeDot:{r:8}}),a.jsx(Se,{yAxisId:"right",type:"monotone",dataKey:"citations",name:"Citations",stroke:"#6366F1",strokeWidth:3,activeDot:{r:8}})]})})})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-md",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-4",children:"Department Research Statistics"}),L.map(l=>{var u,j;return a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-t-lg border border-gray-200",children:[a.jsx("h3",{className:"font-bold text-gray-700",children:R[l.id]||l.id}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:()=>we(l.id),className:"flex items-center text-blue-600 hover:text-blue-800",children:[a.jsx(_e,{size:16,className:"mr-1"}),((u=M[l.id])==null?void 0:u.length)||0," Researchers",I[l.id]?a.jsx(vt,{size:16,className:"ml-1"}):a.jsx(bt,{size:16,className:"ml-1"})]})})]}),I[l.id]&&a.jsxs("div",{className:"p-4 bg-blue-50 border-x border-b border-gray-200 mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Researchers in this department:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:((j=M[l.id])==null?void 0:j.length)>0?M[l.id].map(x=>a.jsxs("div",{className:"flex items-center bg-white p-2 rounded-lg border border-gray-200",children:[x.picture?a.jsx("img",{src:x.picture,alt:x.name,className:"w-8 h-8 rounded-full mr-2 object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:a.jsx("span",{className:"text-blue-700 font-medium",children:x.name.charAt(0)})}),a.jsx("span",{className:"text-sm",children:x.name})]},x.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"No researchers found in this department."})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-4",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 text-left text-sm font-medium text-gray-600",children:"Year"}),a.jsx("th",{className:"py-2 px-4 text-center text-sm font-medium text-gray-600",children:"Publications"}),a.jsx("th",{className:"py-2 px-4 text-center text-sm font-medium text-gray-600",children:"Citations"})]})}),a.jsxs("tbody",{children:[b[l.id]&&Object.entries(b[l.id]).map(([x,y])=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-4 border-b",children:x}),a.jsx("td",{className:"py-2 px-4 border-b text-center",children:y.publications}),a.jsx("td",{className:"py-2 px-4 border-b text-center",children:y.citations})]},x)),a.jsxs("tr",{className:"bg-blue-50 font-bold",children:[a.jsx("td",{className:"py-2 px-4 border-b",children:"Total"}),a.jsx("td",{className:"py-2 px-4 border-b text-center",children:b[l.id]&&Object.values(b[l.id]).reduce((x,y)=>x+y.publications,0)}),a.jsx("td",{className:"py-2 px-4 border-b text-center",children:b[l.id]&&Object.values(b[l.id]).reduce((x,y)=>x+y.citations,0)})]})]})]})}),a.jsx("div",{className:"h-64",children:a.jsx(ye,{width:"100%",height:"100%",children:a.jsxs(xt,{data:b[l.id]?Object.entries(b[l.id]).map(([x,y])=>({year:x,publications:y.publications,citations:y.citations})):[],margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(Ve,{strokeDasharray:"3 3"}),a.jsx(He,{dataKey:"year"}),a.jsx(le,{yAxisId:"left",orientation:"left",stroke:"#4DA7D0"}),a.jsx(le,{yAxisId:"right",orientation:"right",stroke:"#6366F1"}),a.jsx(ge,{}),a.jsx(qe,{}),a.jsx(We,{yAxisId:"left",dataKey:"publications",name:"Publications",fill:"#4DA7D0",radius:[4,4,0,0]}),a.jsx(Se,{yAxisId:"right",type:"monotone",dataKey:"citations",name:"Citations",stroke:"#6366F1",strokeWidth:3,dot:{r:4},activeDot:{r:6}})]})})})]})]},l.id)})]})})]})]}),a.jsx("div",{className:"mt-8 text-center p-4",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Research Analytics Dashboard | Data updated: ",new Date().toLocaleDateString()]})})]})};export{pa as default};
